<div class="container">
        <p>
            <div class="row align-items-md-stretch">
                <div class="text-start mt-2">
                  <button id="submitButton" type="submit" class="btn btn-primary">Register</button>
                  
                </div>
                <div class="h-100 p-5 text-white bg-dark rounded-3">
                    <i class="fas fa-arrow-alt-circle-left fa-5x"></i>
                    <h1><%= title %></h1>
                </div>
        </p>
        </div>
<div class="container" style ="width: 100%;margin: auto;background-color: #fff;overflow: hidden;border-radius: 10px;">
            <ul class="list" style="list-style: none;"></ul>
            <div class="list-footer" style="display: flex;justify-content: space-between;align-items: center;background-color: rgb(110, 9, 169);color: #fff;padding: 1rem;">
                <button class="btn" style="padding: 0.5rem;border: none;font-size: 1rem;background: transparent;transition: background-color 0.3s ease;color: #fff;cursor: pointer;border-radius: 8px;" id="prev-page"><</button>
                <div><span id="current-page"></span> of <span id="total-pages"></span></div>
                <button class="btn" style="padding: 0.5rem;border: none;font-size: 1rem;background: transparent;transition: background-color 0.3s ease;color: #fff;cursor: pointer;border-radius: 8px;" id="next-page">></button>
            </div>
            </div>
            <script>
// DOM Elements
const list = document.querySelector('.list');
const currPage = document.querySelector('#current-page');
const totalPages = document.querySelector('#total-pages');
const buttonPrev = document.querySelector('#prev-page');
const buttonNext = document.querySelector('#next-page');

console.log( '<%= name[0].title %>');
var length = 2;
const items = [];

<% for (let count = 0; count < name.length ; count++) { %>
       items.push({title: '<%= name[0].title %>' , description: '<%= name[0].description %>'});
               
                <% } %>
let currentPage = 1;
let currentIndex = 0;
const itemsPerPage = 5;

const numPages = Math.ceil(items.length / itemsPerPage);

// Functions
const createListItem = (item) => `<li class="list-item"><h4 class="item-title">${item.title}</h4><p>${item.description}</p></li>`;

const nextPage = () => {
    if (currentPage === numPages) return;

    currentPage++;
    currentIndex = (currentPage - 1) * itemsPerPage;
    let newIndex = currentIndex + itemsPerPage;
    list.innerHTML = items
        .slice(currentIndex, newIndex)
        .map((item) => createListItem(item))
        .join('');
    currPage.innerHTML = currentPage;
};

const prevPage = () => {
    if (currentPage === 1) return;

    currentPage--;
    currentIndex = (currentPage - 1) * itemsPerPage;
    let newIndex = currentIndex + itemsPerPage;
    list.innerHTML = items
        .slice(currentIndex, newIndex)
        .map((item) => createListItem(item))
        .join('');
    currPage.innerHTML = currentPage;
};

const init = () => {
    currPage.innerHTML = currentPage;
    totalPages.innerHTML = numPages;

    list.innerHTML = items
        .slice(0, itemsPerPage)
        .map((item) => createListItem(item))
        .join('');
};

// Event Listeners
buttonPrev.addEventListener('click', prevPage);
buttonNext.addEventListener('click', nextPage);

init();
</script>